ubuntu@ubuntu-MS-7E30:~/project/paysafe$ kubectl argo rollouts get rollout paysafe-backend -n paysafe
Name:            paysafe-backend
Namespace:       paysafe
Status:          ✔ Healthy
Strategy:        Canary
  Step:          2/2
  SetWeight:     100
  ActualWeight:  100
Images:          aslahea/paysafe-backend:v1 (stable)
Replicas:
  Desired:       2
  Current:       2
  Updated:       2
  Ready:         2
  Available:     2

NAME                                         KIND        STATUS        AGE    INFO
⟳ paysafe-backend                            Rollout     ✔ Healthy     3h9m   
├──# revision:4                                                               
│  └──⧉ paysafe-backend-5fb5c66b75           ReplicaSet  ✔ Healthy     26m    stable
│     ├──□ paysafe-backend-5fb5c66b75-c42gs  Pod         ✔ Running     4m32s  ready:1/1
│     └──□ paysafe-backend-5fb5c66b75-5txwz  Pod         ✔ Running     4m27s  ready:1/1
├──# revision:3                                                               
│  └──⧉ paysafe-backend-6bff9c855b           ReplicaSet  • ScaledDown  167m   
└──# revision:2                                                               
   └──⧉ paysafe-backend-f6b6d9d87            ReplicaSet  • ScaledDown  157m   
ubuntu@ubuntu-MS-7E30:~/project/paysafe$ # UI
curl http://paysafe.local/

# Backend success
curl http://paysafe.local/api/version

# Payment
curl -X POST http://paysafe.local/api/pay
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PaySafe Payment System</title>

  <!-- Bootstrap CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
</head>

<body class="bg-light">

  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-6">

        <div class="card shadow">
          <div class="card-header text-center fw-bold">
            PaySafe Payment System
          </div>

          <div class="card-body text-center">

            <p class="text-muted">
              Demonstrating Canary & Blue-Green Deployments
            </p>

            <button id="payBtn" class="btn btn-primary" onclick="makePayment()">
              Make Payment
            </button>

            <div id="result" class="mt-4"></div>

          </div>
        </div>

      </div>
    </div>
  </div>

<script>
  function makePayment() {
    const btn = document.getElementById("payBtn");
    const result = document.getElementById("result");

    btn.disabled = true;
    btn.innerText = "Processing...";

    fetch("/api/pay", { method: "POST" })
      .then(response => response.json())
      .then(data => {
        let color = data.status === "SUCCESS" ? "success" : "danger";

        result.innerHTML = `
          <div class="alert alert-${color}">
            <h5>Status: ${data.status}</h5>
            <p>${data.message}</p>
          </div>
        `;
      })
      .catch(() => {
        result.innerHTML = `
          <div class="alert alert-danger">
            Backend not reachable
          </div>
        `;
      })
      .finally(() => {
        btn.disabled = false;
        btn.innerText = "Make Payment";
      });
  }
</script>

</body>
</html>

<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
ubuntu@ubuntu-MS-7E30:~/project/paysafe$ for i in {1..20}; do
  curl http://paysafe.local/api/version
done
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
<!doctype html>
<html lang=en>
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>
ubuntu@ubuntu-MS-7E30:~/project/paysafe$ 

